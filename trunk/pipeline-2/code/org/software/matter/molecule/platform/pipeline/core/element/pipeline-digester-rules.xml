<?xml version="1.0"?>

<digester-rules>

	<pattern value="economy">

		<object-create-rule
			classname="org.software.matter.molecule.platform.pipeline.core.element.Economy" />
		<set-properties-rule />

		<pattern value="market">

			<object-create-rule
				classname="org.software.matter.molecule.platform.pipeline.core.element.Market" />
			<set-properties-rule />

			<pattern value="supplier">

				<object-create-rule
					classname="org.software.matter.molecule.platform.pipeline.core.element.Supplier" />
				<set-properties-rule />

				<pattern value="server">

					<object-create-rule
						classname="org.software.matter.molecule.platform.pipeline.core.element.Server" />
					<set-properties-rule />
					<pattern value="meta">

						<object-create-rule
							classname="org.software.matter.molecule.platform.pipeline.core.element.Meta" />
						<set-properties-rule />
						<pattern value="property">
							<object-create-rule
								classname="org.software.matter.molecule.platform.pipeline.core.element.Property" />
							<set-properties-rule />
							<set-next-rule methodname="addProperty"
									paramtype="org.software.matter.molecule.platform.pipeline.core.element.Property" />
						</pattern>
						<set-next-rule methodname="setMeta"
									paramtype="org.software.matter.molecule.platform.pipeline.core.element.Meta" />
					</pattern>
					<pattern value="service">

						<object-create-rule
							classname="org.software.matter.molecule.platform.pipeline.core.element.Service" />
						<set-properties-rule />

						<pattern value="request">

							<object-create-rule
								classname="org.software.matter.molecule.platform.pipeline.core.element.Request" />
							<set-properties-rule />
							<set-next-rule methodname="setRequest"
								paramtype="org.software.matter.molecule.platform.pipeline.core.element.Request" />
							<pattern value="input">

								<object-create-rule
									classname="org.software.matter.molecule.platform.pipeline.core.element.Input" />
								<set-properties-rule />
								<set-next-rule methodname="setInput"
									paramtype="org.software.matter.molecule.platform.pipeline.core.element.Input" />
							</pattern>

							<pattern value="response">

								<object-create-rule
									classname="org.software.matter.molecule.platform.pipeline.core.element.Response" />
								<set-properties-rule />
								<set-next-rule methodname="setResponse"
									paramtype="org.software.matter.molecule.platform.pipeline.core.element.Response" />
								<pattern value="output">

									<object-create-rule
										classname="org.software.matter.molecule.platform.pipeline.core.element.Output" />
									<set-properties-rule />
									<set-next-rule
										methodname="setOutput"
										paramtype="org.software.matter.molecule.platform.pipeline.core.element.Output" />
								</pattern>

							</pattern>


						</pattern>
						<pattern value="pipeline">

							<object-create-rule
								classname="org.software.matter.molecule.platform.pipeline.core.element.Pipeline" />
							<set-properties-rule />

							<pattern value="step">

								<object-create-rule
									classname="org.software.matter.molecule.platform.pipeline.core.element.Step" />
								<set-properties-rule />
								<pattern value="request">

									<object-create-rule
										classname="org.software.matter.molecule.platform.pipeline.core.element.Request" />
									<set-properties-rule />
									<pattern value="xml-input">

										<object-create-rule
											classname="org.software.matter.molecule.platform.pipeline.core.element.XMLInput" />
										<set-properties-rule />
										<set-next-rule
											methodname="setInput"
											paramtype="org.software.matter.molecule.platform.pipeline.core.element.Input" />
									</pattern>
									<pattern value="string-input">

										<object-create-rule
											classname="org.software.matter.molecule.platform.pipeline.core.element.StringInput" />
										<set-properties-rule />
										<set-next-rule
											methodname="setInput"
											paramtype="org.software.matter.molecule.platform.pipeline.core.element.Input" />
									</pattern>
									<pattern value="byte-input">

										<object-create-rule
											classname="org.software.matter.molecule.platform.pipeline.core.element.ByteInput" />
										<set-properties-rule />
										<set-next-rule
											methodname="setInput"
											paramtype="org.software.matter.molecule.platform.pipeline.core.element.Input" />
									</pattern>
									<set-next-rule
										methodname="setRequest"
										paramtype="org.software.matter.molecule.platform.pipeline.core.element.Request" />

								</pattern>
								<set-next-rule methodname="addUnit"
									paramtype="org.software.matter.molecule.platform.pipeline.core.element.Unit" />

							</pattern>

							<pattern value="line">

								<object-create-rule
									classname="org.software.matter.molecule.platform.pipeline.core.element.Line" />
								<set-properties-rule />

								<pattern value="step">

									<object-create-rule
										classname="org.software.matter.molecule.platform.pipeline.core.element.Step" />
									<set-properties-rule />
									<pattern value="request">

										<object-create-rule
											classname="org.software.matter.molecule.platform.pipeline.core.element.Request" />
										<set-properties-rule />
										<pattern value="xml-input">

											<object-create-rule
												classname="org.software.matter.molecule.platform.pipeline.core.element.XMLInput" />
											<set-properties-rule />
											<!--											<call-method-rule methodname="setXml" paramcount="1" />-->
											<set-next-rule
												methodname="setInput"
												paramtype="org.software.matter.molecule.platform.pipeline.core.element.Input" />
										</pattern>
										<pattern value="string-input">

											<object-create-rule
												classname="org.software.matter.molecule.platform.pipeline.core.element.StringInput" />
											<set-properties-rule />
											<set-next-rule
												methodname="setInput"
												paramtype="org.software.matter.molecule.platform.pipeline.core.element.Input" />
										</pattern>
										<pattern value="byte-input">

											<object-create-rule
												classname="org.software.matter.molecule.platform.pipeline.core.element.ByteInput" />
											<set-properties-rule />
											<set-next-rule
												methodname="setInput"
												paramtype="org.software.matter.molecule.platform.pipeline.core.element.Input" />
										</pattern>
										<set-next-rule
											methodname="setRequest"
											paramtype="org.software.matter.molecule.platform.pipeline.core.element.Request" />

									</pattern>
									<set-next-rule methodname="addUnit"
										paramtype="org.software.matter.molecule.platform.pipeline.core.element.Unit" />

								</pattern>
								<set-next-rule methodname="addUnit"
									paramtype="org.software.matter.molecule.platform.pipeline.core.element.Unit" />

							</pattern>

							<pattern value="tree">

								<object-create-rule
									classname="org.software.matter.molecule.platform.pipeline.core.element.Tree" />
								<set-properties-rule />

							</pattern>

							<pattern value="loop">

								<object-create-rule
									classname="org.software.matter.molecule.platform.pipeline.core.element.Loop" />
								<set-properties-rule />

							</pattern>

							<set-next-rule methodname="setPipeline"
								paramtype="org.software.matter.molecule.platform.pipeline.core.element.Pipeline" />

						</pattern>

						<set-next-rule methodname="addService"
							paramtype="org.software.matter.molecule.platform.pipeline.core.element.Service" />
					</pattern>
					<set-next-rule methodname="addServer"
						paramtype="org.software.matter.molecule.platform.pipeline.core.element.Server" />
				</pattern>
				<set-next-rule methodname="addSupplier"
					paramtype="org.software.matter.molecule.platform.pipeline.core.element.Supplier" />
			</pattern>
			<set-next-rule methodname="addMarket"
				paramtype="org.software.matter.molecule.platform.pipeline.core.element.Market" />
		</pattern>
	</pattern>

</digester-rules>
